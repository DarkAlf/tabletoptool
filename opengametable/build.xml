<project default="create_jar" xmlns:artifact="antlib:org.apache.maven.artifact.ant">
    <target name="create_jar">
        <jar destfile="../tiamat-built/maptools.jar">
            <manifest>
                <attribute name="Main-Class" value="net.rptools.maptool.client.MapTool"/>
                <attribute name="Class-Path" value=". lib/renderpack-1.2004.jar lib/antlr-2.7.6.jar lib/jl1.0.jar lib/yasb-0.2-21012007.jar lib/servicediscoverylib-1.0.b5.jar lib/swing-worker-0.1.jar lib/abeille-formsrt-2.0.jar lib/jide-common-3.2.3.jar lib/jide-components-3.2.3.jar lib/jide-dialogs-3.2.3.jar lib/jide-dock-3.2.3.jar lib/jide-editor-3.2.3.jar lib/jide-grids-3.2.3.jar lib/jide-properties-3.2.3.jar lib/jide-shortcut-3.2.3.jar lib/commons-io-2.0.1.jar lib/commons-jxpath-1.3.jar lib/tinylaf-nocp-1.4.0.jar lib/rplib-1.0.b134.jar lib/commons-net-3.2.jar lib/upnplib-1.0.9-nodebug.jar lib/commons-logging-1.1.1.jar lib/log4j-1.2.15.jar lib/maptool.resource-1.0.b18.jar lib/clientserver-1.0.b17.jar lib/withay-util.jar lib/commons-collections4-4.0.jar lib/hessian-3.2.1.jar lib/junit.jar lib/org.hamcrest.core_1.3.0.v201303031735.jar lib/xstream-1.4.6.jar lib/xmlpull-1.1.3.1.jar lib/xpp3_min-1.1.4c.jar lib/commons-lang3-3.1.jar lib/json-lib-2.4-jdk15.jar lib/commons-beanutils-1.8.0.jar lib/commons-collections-3.2.1.jar lib/commons-lang-2.5.jar lib/commons-logging-1.1.1.jar lib/ezmorph-1.0.6.jar lib/groovy-2.2.1.jar lib/asm-tree-4.1.jar lib/antlr-2.7.7.jar lib/asm-util-4.1.jar lib/asm-commons-4.1.jar lib/asm-4.1.jar lib/asm-analysis-4.1.jar lib/rsyntaxtextarea-2.5.0.jar lib/autocomplete-2.5.0.jar"/>
            </manifest>
            <fileset dir="target/classes"/>
        </jar>
        <delete dir="../tiamat-built/lib"/>
        <copy todir="../tiamat-built/lib">
        	<fileset dir="lib"/>
    	</copy>
    	<!--Maven Dependencies-->
    	<artifact:dependencies filesetId="dependency.fileset" useScope="runtime">
    		<pom file="pom.xml"/>
    	</artifact:dependencies>
    	<copy todir="../tiamat-built/lib">
    	  <fileset refid="dependency.fileset" />
    	  <mapper type="flatten" />
    	</copy>
    </target>
</project>
